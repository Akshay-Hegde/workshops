.. _geoexplorer.stying:

Styling Layers
==============

We styled our ``earth`` vector layers in GeoServer using existing SLD files; however, our ``smallworld`` layer remains stark and unattractive.

In this section we'll use GeoExplorer's graphic styling tool to apply cartographic styles to a layer.

Interactive Styling
-------------------

.. warning:: GeoExplorer makes changes directly to GeoServer SLDs, and will completely overwrite SLD files on the server. It is always a good idea to make a backup copy of your SLDs before using GeoExplorer for styling.

#. If you aren't logged in, click the login button and provide your GeoServer administrator credentials: ``admin`` / ``geoserver``.

#. Select the ``smallworld`` layer and then click the :guilabel:`Edit Styles` button (the palette icon).

   .. figure:: img/gx_icon_editstyles.png
      :align: center

      *Click to edit styles*

#. The :guilabel:`Edit Styles` dialog opens.

   .. figure:: img/gx_dialog_editstyles.png
      :align: center

      *Edit Styles dialog*

#. In the :guilabel:`Styles` (upper) panel, click the :guilabel:`Add` (+) button to open the :guilabel:`User Style` dialog.

#. The new style is automatically given a name based on the current layer and a unique identifier.  Provide the style with a friendlier :guilabel:`Title` (e.g. "Smallworld Points") and :guilabel:`Abstract` (e.g. "GeoExplorer user style for Smallworld point features"), and click :guilabel:`Save`.

   .. figure:: img/gx_dialog_userstyle.png
      :align: center
      
      *User Style dialog*

#. The *Edit Styles* dialog re-appears, displaying a single untitled style rule for the current layer.

   .. figure:: img/gx_dialog_userstylerule.png
      :align: center

      *Style Rule editor*

#. Select this rule, and click :guilabel:`Edit` to open the  -- The :guilabel:`Style Rule` editor opens.

#. Make some basic changes to the rule.

   #. Give it a new *Name*.
   #. Change the *Symbol* type.
   #. Alter the *Fill* and *Stroke* (outline) properties.

   .. figure:: img/gx_dialog_editrule.png
      :align: center
      
      *Updates to a layer style in GeoExplorer*

#. Without closing the editor, click the :guilabel:`Labels` tab. We'll set our style to display the year of our visit to each city.

   #. Check the box next to :guilabel:`Label Features` to enable labeling.
   #. In the expanded dialog, select ``Year`` from the :guilabel:`Label Values` drop-down.
   #. Optionally, experiment with the font, color, and halo options for the label style.

   .. figure:: img/gx_dialog_stylelabels.png
      :align: center

#. Click :guilabel:`Save` to persist the SLD changes, and close the dialog.

Now you've got style!

Bonus
-----

#. Explore the :guilabel:`Advanced` style rule options.

   * *Limit by scale*
   * *Limit by condition*

   .. figure:: img/gx_dialog_advancedstyle.png
      :align: center

      *GeoExplorer Advanced style rule options*
      
#. You probably noticed that we can have more that one *Rule* within a style. How do you think we could use that?      
      
#. Navigate back to GeoServer, and have a look at the SLD code that GeoExplorer created. 

   .. figure:: img/gx_verifystyle.png
      :align: center

      *SLD code generated by GeoExplorer*